@model TechNova.Models.Venta
@{
    ViewData["Title"] = "Detalle de Venta";
}

    <div class="container mt-5 col-10 p-4 rounded"
     style="background:#0F0F0F;color:var(--tn-primary-contrast);
            border:1px solid #1A1A1A;box-shadow:0 0 18px rgba(47,182,90,0.18);">

    <div class="row mb-3">
        <div class="col-md-8">
            <h1 class="fw-bold"
                style="color:var(--tn-accent);text-shadow:0 0 12px rgba(47,182,90,0.18);">
                <i class="bi bi-receipt"></i> Detalle de Venta #@Model.VentaId
            </h1>
        </div>
        <div class="col-md-4 text-end">
            <a asp-action="Index"
               class="btn fw-bold px-4 py-2"
               style="background:#121212;color:var(--tn-accent);border:1px solid rgba(47,182,90,0.12);border-radius:10px;
                      box-shadow:0 0 10px rgba(47,182,90,0.12);">
                <i class="bi bi-arrow-left"></i> Volver
            </a>
        </div>
    </div>

    <hr style="border-color:rgba(47,182,90,0.12);" />

    <div class="row g-4 mb-4">

        <!-- Información -->
        <div class="col-md-6">
            <div class="p-3 rounded"
                 style="background:#181818;border:1px solid rgba(47,182,90,0.12);box-shadow:0 0 8px rgba(47,182,90,0.08);">
                <h5 class="fw-bold mb-3" style="color:var(--tn-accent);text-shadow:0 0 8px rgba(47,182,90,0.12);">
                    <i class="bi bi-info-circle"></i> Información General
                </h5>
                <dl class="row mb-0">
                    <dt class="col-sm-4 fw-semibold">ID Venta:</dt>
                    <dd class="col-sm-8"><strong>#@Model.VentaId</strong></dd>

                    <dt class="col-sm-4 fw-semibold">Fecha:</dt>
                    <dd class="col-sm-8">@Model.FechaVenta.ToString("dd/MM/yyyy HH:mm")</dd>

                    <dt class="col-sm-4 fw-semibold">Cliente:</dt>
                    <dd class="col-sm-8">@Model.Cliente.Nombre</dd>
                </dl>
            </div>
        </div>

        <!-- Total -->
        <div class="col-md-6">
            <div class="p-3 rounded text-center"
                 style="background:#181818;border:1px solid rgba(47,182,90,0.12);box-shadow:0 0 8px rgba(47,182,90,0.08);">
                <h5 class="fw-bold mb-3" style="color:var(--tn-accent);text-shadow:0 0 8px rgba(47,182,90,0.12);">
                    <i class="bi bi-cash-stack"></i> Resumen
                </h5>
                <h2 style="color:#00E676;text-shadow:none;">
                    @ViewBag.Total.ToString("C")
                </h2>
                <p>Total General</p>
            </div>
        </div>
    </div>

    <!-- Productos -->
    <div class="p-3 rounded mb-4"
         style="background:#181818;border:1px solid rgba(47,182,90,0.12);box-shadow:0 0 8px rgba(47,182,90,0.08);">
        <h5 class="fw-bold mb-3" style="color:var(--tn-accent);text-shadow:0 0 8px rgba(47,182,90,0.12);">
            <i class="bi bi-box-seam"></i> Productos Vendidos
        </h5>

        <table class="table mb-0" style="color:var(--tn-primary-contrast);">
            <thead style="background:#0F0F0F;color:var(--tn-accent);text-shadow:0 0 6px rgba(47,182,90,0.12);">
                <tr>
                    <th>Producto</th>
                    <th class="text-center">Cantidad</th>
                    <th class="text-end">Precio</th>
                    <th class="text-end">Subtotal</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var detalle in Model.DetalleVenta)
                {
                    <tr style="background:#1C1C1C;border-bottom:1px solid rgba(47,182,90,0.12);">
                        <td>@detalle.Producto.Nombre</td>
                        <td class="text-center">
                            <span class="badge"
                                  style="background:var(--tn-accent);color:#0F0F0F;box-shadow:0 0 6px rgba(47,182,90,0.12);">
                                @detalle.Cantidad
                            </span>
                        </td>
                        <td class="text-end">@detalle.PrecioUnitario.ToString("C")</td>
                        <td class="text-end">@((detalle.Cantidad * detalle.PrecioUnitario).ToString("C"))</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
